<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="www.thymeleaf.org/extras/spring-security">
<head>
    <title>Index</title>
    <th:block th:insert="base :: header"></th:block>
</head>
<br>
<body>
<div><h2>Welcome [[${user.firstName}]] [[${user.lastName}]] </h2></div></br>

<div th:replace="base :: navlinks"></div>


<p>
<table class="table">
    <tr>
        <th>Title</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Date</th>
        <th>Content</th>
        <th>Image</th>
        <td>Actions</td>
    </tr>
    <tbody>
    <tr th:each="message : ${messages}">
        <td th:text="${message.title}"></td>
        <td th:text="${message.user.firstName}"></td>
        <td th:text="${message.user.lastName}"></td>
        <td th:text="${message.date}"></td>
        <td th:text="${message.content}"></td>
        <td><div th:if="${message.url} != null">
            <img th:src ="${message.url}" height="42" width="42" />
            <hr />
        </div></td>
        <td>
            <a th:href="@{/update/{id}(id=${message.id})}">Update</a>
            <a th:href="@{/detail/{id}(id=${message.id})}">Details</a>
            <a th:href="@{/delete/{id}(id=${message.id})}">Delete</a>
        </td>
    </tr>
    </tbody>
</table>
</p>
</body>
</html>